<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Codebox</title>
<style>
  * {
    margin: 0; padding: 0; box-sizing: border-box;
  }
  :root {
    --bg-color: #ffffff;
    --text-color: #000000;
    --border-color: #cccccc;
    --button-bg: #f5f5f5;
    --button-hover: #e0e0e0;
  }
  [data-theme="dark"] {
    --bg-color: #1a1a1a;
    --text-color: #ffffff;
    --border-color: #444444;
    --button-bg: #2a2a2a;
    --button-hover: #3a3a3a;
  }
  body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    background-color: var(--bg-color);
    color: var(--text-color);
    line-height: 1.6;
    padding: 20px;
    transition: all 0.3s ease;
  }
  .container { max-width: 800px; margin: 0 auto; }
  .header { text-align: center; margin-bottom: 30px; position: relative; }
  .theme-toggle {
    position: absolute; top: 0; right: 0;
    background: none;
    border: 1px solid var(--border-color);
    color: var(--text-color);
    padding: 8px 12px;
    border-radius: 4px;
    cursor: pointer;
    font-size: 16px;
    transition: all 0.3s ease;
  }
  .theme-toggle:hover { background-color: var(--button-hover); }
  h1 { font-size: 24px; font-weight: 300; margin-bottom: 5px; }
  .subtitle { font-size: 14px; color: var(--text-color); opacity: 0.7; }
  .converter-section { margin-bottom: 30px; }
  .input-group { margin-bottom: 15px; }
  label { display: block; margin-bottom: 5px; font-size: 14px; font-weight: 500; }
  textarea {
    width: 100%; min-height: 120px; padding: 12px;
    border: 1px solid var(--border-color);
    border-radius: 4px;
    font-family: monospace;
    font-size: 14px;
    background-color: var(--bg-color);
    color: var(--text-color);
    resize: vertical;
    transition: border-color 0.3s ease;
  }
  textarea:focus { outline: none; border-color: var(--text-color); }
  select { width: 100%; padding: 10px; border: 1px solid var(--border-color); border-radius: 4px; background-color: var(--bg-color); color: var(--text-color); font-size: 14px; }
  .controls {
    display: flex;
    gap: 10px;
    margin: 15px 0;
    flex-wrap: wrap;
  }
  button {
    padding: 10px 20px;
    border: 1px solid var(--border-color);
    border-radius: 4px;
    background-color: var(--button-bg);
    color: var(--text-color);
    cursor: pointer;
    font-size: 14px;
    transition: all 0.3s ease;
  }
  button:hover { background-color: var(--button-hover); }
  .footer {
    text-align: center;
    margin-top: 40px;
    padding-top: 20px;
    border-top: 1px solid var(--border-color);
    font-size: 14px;
    opacity: 0.7;
  }
  @media (max-width: 600px) {
    .controls { flex-direction: column; }
  }
</style>
</head>
<body>
<div class="container">
  <div class="header">
    <button class="theme-toggle" onclick="toggleTheme()">üåô</button>
    <h1>Codebox</h1>
    <p class="subtitle">Convert text to various encodings</p>
  </div>

  <div class="converter-section">
    <div class="input-group">
      <label for="encoding-type">Encoding Type:</label>
      <select id="encoding-type">
        <option value="binary">Binary</option>
        <option value="morse">Morse Code</option>
        <option value="braille">Braille</option>
        <option value="reverse">Reverse Text</option>
        <option value="upsidedown">Upside Down</option>
        <option value="base64">Base64</option>
        <option value="hex">Hexadecimal</option>
        <option value="url">URL Encoding</option>
        <option value="ascii">ASCII Codes</option>
        <option value="rot13">ROT13</option>
        <option value="emoji">Emoji Replace</option>
        <option value="random-letter">Random Letter Prefix</option>
        <option value="leetspeak">Leet Speak</option>
        <option value="bubble">Bubble Text</option>
      </select>
    </div>

    <div class="input-group">
      <label for="input-text">Input Text:</label>
      <textarea id="input-text" placeholder="Enter text to convert (up to 200 characters)..." maxlength="200"></textarea>
    </div>

    <div class="controls">
      <button onclick="convertText()">Convert</button>
      <button onclick="interchangeBoxes()">‚Üï Interchange</button>
      <button onclick="clearInput()">Clear Input</button>
    </div>

    <div class="input-group">
      <label for="output-text">Output Text:</label>
      <textarea id="output-text" placeholder="Converted text will appear here..."></textarea>
      <div class="controls">
        <button onclick="copyResult()">Copy Result</button>
        <button onclick="decryptToInput()">Decrypt to Input</button>
        <button onclick="clearOutput()">Clear Output</button>
      </div>
    </div>
  </div>

  <div class="footer">Made with ‚ù§Ô∏è by sauravhhh</div>
</div>

<script>
  function toggleTheme() {
    const body = document.body;
    const themeToggle = document.querySelector('.theme-toggle');
    if (body.hasAttribute('data-theme')) {
      body.removeAttribute('data-theme');
      themeToggle.textContent = 'üåô';
    } else {
      body.setAttribute('data-theme', 'dark');
      themeToggle.textContent = '‚òÄÔ∏è';
    }
  }

  let externalEmojiMap = {};
  fetch('emoji.json').then(res => res.ok ? res.json() : Promise.reject('emoji.json not found')).then(json => externalEmojiMap = json).catch(e => {
    console.warn(e);
    externalEmojiMap = {};
  });

  const builtinEmojiMap = {
    happy: 'üòä', sad: 'üò¢', love: '‚ù§Ô∏è', heart: '‚ù§Ô∏è', angry: 'üò†', laugh: 'üòÇ',
    smile: 'üòÑ', hello: 'üëã', thumbs: 'üëç', fire: 'üî•', star: '‚≠ê',
    cool: 'üòé', wink: 'üòâ', cry: 'üò≠', excited: 'ü§©', clap: 'üëè', pray: 'üôè',
    kiss: 'üòò', peace: '‚úåÔ∏è', good: 'üëç', bad: 'üëé'
  };

  const encoders = {
    binary: {
      encode: (text) => text.split('').map(c => c.charCodeAt(0).toString(2).padStart(8, '0')).join(' '),
      decode: (bin) => bin.split(' ').map(b => String.fromCharCode(parseInt(b, 2))).join('')
    },
    morse: {
      encode: (text) => {
        const morseCode = {A:'.-',B:'-...',C:'-.-.',D:'-..',E:'.',F:'..-.',G:'--.',H:'....',I:'..',J:'.---',K:'-.-',L:'.-..',M:'--',N:'-.',O:'---',P:'.--.',Q:'--.-',R:'.-.',S:'...',T:'-',U:'..-',V:'...-',W:'.--',X:'-..-',Y:'-.--',Z:'--..','0':'-----','1':'.----','2':'..---','3':'...--','4':'....-','5':'.....','6':'-....','7':'--...','8':'---..','9':'----.',' ':'/'};
        return text.toUpperCase().split('').map(c => morseCode[c] || c).join(' ');
      },
      decode: (morse) => {
        const morseReverse = {'.-':'A', '-...':'B', '-.-.':'C', '-..':'D', '.':'E', '..-.':'F', '--.':'G', '....':'H', '..':'I', '.---':'J', '-.-':'K', '.-..':'L', '--':'M', '-.':'N', '---':'O', '.--.':'P', '--.-':'Q', '.-.':'R', '...':'S', '-':'T', '..-':'U', '...-':'V', '.--':'W', '-..-':'X', '-.--':'Y', '--..':'Z', '-----':'0', '.----':'1', '..---':'2', '...--':'3', '....-':'4', '.....':'5', '-....':'6', '--...':'7', '---..':'8', '----.':'9', '/':' '};
        return morse.split(' ').map(c => morseReverse[c] || c).join('');
      }
    },
    braille: {
      encode: (text) => {
        const brailleMap = {
          a:'‚†Å',b:'‚†É',c:'‚†â',d:'‚†ô',e:'‚†ë',f:'‚†ã',g:'‚†õ',
          h:'‚†ì',i:'‚†ä',j:'‚†ö',k:'‚†Ö',l:'‚†á',m:'‚†ç',n:'‚†ù',
          o:'‚†ï',p:'‚†è',q:'‚†ü',r:'‚†ó',s:'‚†é',t:'‚†û',u:'‚†•',
          v:'‚†ß',w:'‚†∫',x:'‚†≠',y:'‚†Ω',z:'‚†µ',' ':'‚†Ä'
        };
        return text.toLowerCase().split('').map(c => brailleMap[c] || c).join('');
      },
      decode: (text) => {
        const brailleReverse = {
          '‚†Å':'a', '‚†É':'b', '‚†â':'c', '‚†ô':'d', '‚†ë':'e', '‚†ã':'f', '‚†õ':'g',
          '‚†ì':'h', '‚†ä':'i', '‚†ö':'j', '‚†Ö':'k', '‚†á':'l', '‚†ç':'m', '‚†ù':'n',
          '‚†ï':'o', '‚†è':'p', '‚†ü':'q', '‚†ó':'r', '‚†é':'s', '‚†û':'t', '‚†•':'u',
          '‚†ß':'v', '‚†∫':'w', '‚†≠':'x', '‚†Ω':'y', '‚†µ':'z', '‚†Ä':' '
        };
        return text.split('').map(c => brailleReverse[c] || c).join('');
      }
    },
    reverse: {
      encode: (text) => text.split('').reverse().join(''),
      decode: (text) => text.split('').reverse().join('')
    },
    upsidedown: {
      encode: (text) => {
        const upsidedownMap = {
          a:'…ê',b:'q',c:'…î',d:'p',e:'«ù',f:'…ü',g:'…ì',h:'…•',i:'·¥â',j:'…æ',k:' û',l:' É',m:'…Ø',
          n:'u',o:'o',p:'d',q:'b',r:'…π',s:'s',t:' á',u:'n',v:' å',w:' ç',x:'x',y:' é',z:'z',
          A:'‚àÄ',B:'êêí',C:'∆Ü',D:'·ó°',E:'∆é',F:'‚Ñ≤',G:'‚ÖÅ',H:'H',I:'I',J:'≈ø',K:' û',L:'À•',
          M:'W',N:'N',O:'O',P:'‘Ä',Q:'Œå',R:'·¥ö',S:'S',T:'‚ä•',U:'‚à©',V:'Œõ',W:'M',X:'X',
          Y:'‚ÖÑ',Z:'Z', '1':'∆ñ','2':'·ÑÖ','3':'∆ê','4':'„Ñ£','5':'œõ','6':'9','7':'„Ñ•','8':'8','9':'6',
          '.':'Àô',',':'\'','?':'¬ø','!':'¬°','"':',,','\'':',','(' : ')', ')' : '(',
          '[' : ']', ']' : '[', '{' : '}', '}' : '{', '<' : '>', '>' : '<',
        };
        return text.split('').reverse().map(c => upsidedownMap[c] || c).join('');
      },
      decode: (text) => encoders.upsidedown.encode(text)
    },
    base64: {
      encode: (text) => btoa(text),
      decode: (str) => { try { return atob(str); } catch { return 'Invalid Base64'; } }
    },
    hex: {
      encode: (text) => text.split('').map(c => c.charCodeAt(0).toString(16).padStart(2,'0')).join(' '),
      decode: (text) => text.split(' ').map(h => String.fromCharCode(parseInt(h,16))).join('')
    },
    url: {
      encode: (text) => encodeURIComponent(text),
      decode: (text) => decodeURIComponent(text)
    },
    ascii: {
      encode: (text) => text.split('').map(c => c.charCodeAt(0)).join(' '),
      decode: (text) => text.split(' ').map(code => String.fromCharCode(parseInt(code))).join('')
    },
    rot13: {
      encode: (text) => text.replace(/[a-zA-Z]/g, c => {
        const base = c <= 'Z' ? 65 : 97;
        return String.fromCharCode((c.charCodeAt(0)-base+13)%26+base);
      }),
      decode: (text) => encoders.rot13.encode(text)
    },
    emoji: {
      encode: (text) => {
        return text.split(' ').map(word => {
          const cleanWord = word.toLowerCase().replace(/[^\w]/g, '');
          return builtinEmojiMap[cleanWord] || externalEmojiMap[cleanWord] || word;
        }).join(' ');
      },
      decode: (text) => text // no decode for emoji
    },
    'random-letter': {
      encode: (text) => {
        const letters = 'abcdefghijklmnopqrstuvwxyz';
        return text.split(' ').map(word => {
          if(word.trim().length > 0) {
            const randomLetter = letters[Math.floor(Math.random() * letters.length)];
            return randomLetter + word;
          }
          return word;
        }).join(' ');
      },
      decode: (text) => {
        return text.split(' ').map(word => (word.length > 1) ? word.slice(1) : word).join(' ');
      }
    },
    'leetspeak': {
      encode: (text) => text.toLowerCase()
        .replace(/a/g,'4').replace(/e/g,'3')
        .replace(/i/g,'1').replace(/o/g,'0')
        .replace(/s/g,'5').replace(/t/g,'7'),
      decode: (text) => text.toLowerCase()
        .replace(/4/g,'a').replace(/3/g,'e')
        .replace(/1/g,'i').replace(/0/g,'o')
        .replace(/5/g,'s').replace(/7/g,'t')
    },
    bubble: {
      encode: (text) => {
        const bubbleMap = {
          a:'‚ìê',b:'‚ìë',c:'‚ìí',d:'‚ìì',e:'‚ìî',f:'‚ìï',g:'‚ìñ',h:'‚ìó',i:'‚ìò',j:'‚ìô',k:'‚ìö',
          l:'‚ìõ',m:'‚ìú',n:'‚ìù',o:'‚ìû',p:'‚ìü',q:'‚ì†',r:'‚ì°',s:'‚ì¢',t:'‚ì£',u:'‚ì§',v:'‚ì•',
          w:'‚ì¶',x:'‚ìß',y:'‚ì®',z:'‚ì©',
          A:'‚í∂',B:'‚í∑',C:'‚í∏',D:'‚íπ',E:'‚í∫',F:'‚íª',G:'‚íº',H:'‚íΩ',I:'‚íæ',J:'‚íø',K:'‚ìÄ',
          L:'‚ìÅ',M:'‚ìÇ',N:'‚ìÉ',O:'‚ìÑ',P:'‚ìÖ',Q:'‚ìÜ',R:'‚ìá',S:'‚ìà',T:'‚ìâ',U:'‚ìä',V:'‚ìã',
          W:'‚ìå',X:'‚ìç',Y:'‚ìé',Z:'‚ìè'
        };
        return text.split('').map(c => bubbleMap[c] || c).join('');
      },
      decode: (text) => {
        const reverseMap = {};
        'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('').forEach(c => {
          const bubble = encoders.bubble.encode(c);
          reverseMap[bubble] = c;
        });
        return text.split('').map(c => reverseMap[c] || c).join('');
      }
    }
  };

  function convertText() {
    const input = document.getElementById('input-text').value;
    const output = document.getElementById('output-text');
    const encodingType = document.getElementById('encoding-type').value;
    if (!input) {
      alert('Please enter text to convert.');
      return;
    }
    try {
      output.value = encoders[encodingType].encode(input);
    } catch {
      output.value = 'Encoding failed';
    }
  }

  function interchangeBoxes() {
    const inputBox = document.getElementById('input-text');
    const outputBox = document.getElementById('output-text');
    const temp = inputBox.value;
    inputBox.value = outputBox.value;
    outputBox.value = temp;
  }

  function clearInput() {
    document.getElementById('input-text').value = '';
  }

  function clearOutput() {
    document.getElementById('output-text').value = '';
  }

  function copyResult() {
    const outputBox = document.getElementById('output-text');
    outputBox.select();
    outputBox.setSelectionRange(0, 99999);
    navigator.clipboard.writeText(outputBox.value).then(() => {
      alert('Copied to clipboard!');
    }).catch(() => {
      alert('Copy failed. Please copy manually.');
    });
  }

  function decryptToInput() {
    const inputBox = document.getElementById('input-text');
    const outputBox = document.getElementById('output-text');
    const encodingType = document.getElementById('encoding-type').value;

    if (!encoders[encodingType].decode) {
      alert('Decoding not supported for this encoding.');
      return;
    }
    try {
      inputBox.value = encoders[encodingType].decode(outputBox.value);
      clearOutput();
    } catch {
      alert('Decoding failed.');
    }
  }
</script>
</body>
</html>
